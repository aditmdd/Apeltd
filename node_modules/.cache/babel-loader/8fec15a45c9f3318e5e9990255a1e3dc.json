{"ast":null,"code":"/* global WorkerGlobalScope */\nfunction add(fn) {\n  if (typeof WorkerGlobalScope === 'function' && self instanceof WorkerGlobalScope) {// this is run inside of a webworker\n  } else {\n    /**\r\n     * if we are on react-native, there is no window.addEventListener\r\n     * @link https://github.com/pubkey/unload/issues/6\r\n     */\n    if (typeof window.addEventListener !== 'function') return;\n    /**\r\n     * for normal browser-windows, we use the beforeunload-event\r\n     */\n\n    window.addEventListener('beforeunload', function () {\n      fn();\n    }, true);\n    /**\r\n     * for iframes, we have to use the unload-event\r\n     * @link https://stackoverflow.com/q/47533670/3443137\r\n     */\n\n    window.addEventListener('unload', function () {\n      fn();\n    }, true);\n  }\n  /**\r\n   * TODO add fallback for safari-mobile\r\n   * @link https://stackoverflow.com/a/26193516/3443137\r\n   */\n\n}\n\nexport default {\n  add: add\n};","map":{"version":3,"sources":["C:/xampp/htdocs/Apeltd/node_modules/unload/dist/es/browser.js"],"names":["add","fn","WorkerGlobalScope","self","window","addEventListener"],"mappings":"AAAA;AACA,SAASA,GAAT,CAAaC,EAAb,EAAiB;AACf,MAAI,OAAOC,iBAAP,KAA6B,UAA7B,IAA2CC,IAAI,YAAYD,iBAA/D,EAAkF,CAAC;AAClF,GADD,MACO;AACL;AACJ;AACA;AACA;AACI,QAAI,OAAOE,MAAM,CAACC,gBAAd,KAAmC,UAAvC,EAAmD;AACnD;AACJ;AACA;;AAEID,IAAAA,MAAM,CAACC,gBAAP,CAAwB,cAAxB,EAAwC,YAAY;AAClDJ,MAAAA,EAAE;AACH,KAFD,EAEG,IAFH;AAGA;AACJ;AACA;AACA;;AAEIG,IAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkC,YAAY;AAC5CJ,MAAAA,EAAE;AACH,KAFD,EAEG,IAFH;AAGD;AACD;AACF;AACA;AACA;;AAEC;;AAED,eAAe;AACbD,EAAAA,GAAG,EAAEA;AADQ,CAAf","sourcesContent":["/* global WorkerGlobalScope */\r\nfunction add(fn) {\r\n  if (typeof WorkerGlobalScope === 'function' && self instanceof WorkerGlobalScope) {// this is run inside of a webworker\r\n  } else {\r\n    /**\r\n     * if we are on react-native, there is no window.addEventListener\r\n     * @link https://github.com/pubkey/unload/issues/6\r\n     */\r\n    if (typeof window.addEventListener !== 'function') return;\r\n    /**\r\n     * for normal browser-windows, we use the beforeunload-event\r\n     */\r\n\r\n    window.addEventListener('beforeunload', function () {\r\n      fn();\r\n    }, true);\r\n    /**\r\n     * for iframes, we have to use the unload-event\r\n     * @link https://stackoverflow.com/q/47533670/3443137\r\n     */\r\n\r\n    window.addEventListener('unload', function () {\r\n      fn();\r\n    }, true);\r\n  }\r\n  /**\r\n   * TODO add fallback for safari-mobile\r\n   * @link https://stackoverflow.com/a/26193516/3443137\r\n   */\r\n\r\n}\r\n\r\nexport default {\r\n  add: add\r\n};"]},"metadata":{},"sourceType":"module"}